parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"c2RB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MacroNetworkType=exports.MacroDoorState=exports.MacroMap=exports.MacroEvent=void 0;var o={Run:"Run",ContractReload:"ContractReload",Notice:"Notice",NoticeAccept:"NoticeAccept",Loading:"Loading"};exports.MacroEvent=o;var e={CanvasWidth:400,CanvasHeight:400,HouseWidth:400,HouseHeight:400,DoorWidth:95,DoorHeight:145};exports.MacroMap=e;var t={Normal:"Normal",Opening:"Opening",Closing:"Closing"};exports.MacroDoorState=t;var r={MainNet:1,Morden:2,Ropsten:3,Rinkeby:4,Kovan:42,Private:999};exports.MacroNetworkType=r;
},{}],"Cuk0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./macro");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var o=function(){function n(){t(this,n)}return r(n,null,[{key:"timeFormat",value:function(e){var t=Math.floor(e/60),n=e%60,r=String("0"+t).slice(-2),o=String("0"+n).slice(-2);return"".concat(r,":").concat(o)}},{key:"notice",value:function(t,n){projApp.eventMgr.dispatch(e.MacroEvent.Notice,{msg:t,cb:n})}},{key:"noticeAccept",value:function(){projApp.eventMgr.dispatch(e.MacroEvent.NoticeAccept)}},{key:"loading",value:function(t){projApp.eventMgr.dispatch(e.MacroEvent.Loading,t)}}]),n}(),c=o;exports.default=c;
},{"./macro":"c2RB"}],"4Vet":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(i,n,r){e(this,t),this.timer=null,this.cbRun=i,this.cbCheckFinish=n,this.cbFinished=r}return i(t,[{key:"start",value:function(){var e=this;stop(),this.timer=setInterval(function(){e.cbCheckFinish()?e.stop():e.cbRun()},1e3)}},{key:"stop",value:function(){this.timer&&clearInterval(this.timer),this.cbFinished&&this.cbFinished()}}]),t}(),r=n;exports.default=r;
},{}],"Yttu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("react")),t=o(require("../utils")),n=o(require("../timer"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(o){function r(e){var t;return l(this,r),(t=a(this,f(r).call(this,e))).state={timeLeft:projApp.crytoDoor.timeLeft},t.timer=new n.default(function(){t.setState({timeLeft:t.state.timeLeft-1})},function(){return t.state.timeLeft<=0},function(){window.location.reload()}),t}return s(r,e.default.Component),i(r,[{key:"render",value:function(){var n=t.default.timeFormat(this.state.timeLeft);return e.default.createElement("div",{className:"owner-me"},e.default.createElement("div",{className:"owner-top"},e.default.createElement("div",{className:"owner-top-left"},e.default.createElement("p",{className:"left-desc"},"Hello, key holder!"),e.default.createElement("img",{src:"/static/images/cryto-door/owner-me.png"})),e.default.createElement("div",{className:"owner-top-right"},e.default.createElement("div",{className:"right-desc"},e.default.createElement("p",null,"The key will be free after:")),e.default.createElement("div",{className:"right-time"},e.default.createElement("p",null,n)))),e.default.createElement("div",{className:"owner-op"},e.default.createElement("div",{className:"op-desc"},"You can controll the door:"),e.default.createElement("div",{className:"op-btn"},e.default.createElement("button",{className:"owner-btn btn",onClick:this.onOpenClick.bind(this)},"open"),e.default.createElement("button",{className:"owner-btn btn",onClick:this.onCloseClick.bind(this)},"close"))))}},{key:"componentDidMount",value:function(){this.timer.start()}},{key:"componentWillUnmount",value:function(){this.timer.stop()}},{key:"onOpenClick",value:function(){projApp.crytoDoor.doorControll().then(function(e){e?projApp.controller.open():t.default.notice("Key Access Denied")})}},{key:"onCloseClick",value:function(){projApp.crytoDoor.doorControll().then(function(e){e?projApp.controller.close():t.default.notice("Key Access Denied")})}}]),r}(),d=m;exports.default=d;
},{"react":"ccIB","../utils":"Cuk0","../timer":"4Vet"}],"KUE4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("react")),t=r(require("../utils")),n=r(require("../../common/transaction"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=[{id:1,title:"Project A",time:2,price:.1},{id:2,title:"Project B",time:5,price:.5}],d=function(t){function n(e){return a(this,n),l(this,f(n).call(this,e))}return s(n,e.default.Component),c(n,[{key:"render",value:function(){return e.default.createElement("div",{className:"owner-none"},e.default.createElement("div",{className:"banner"},e.default.createElement("h2",null,"Key Market")),e.default.createElement("p",{className:"desc"},"Key is waiting for someone to hold!"),e.default.createElement("div",{className:"items"},this.renderItems()))}},{key:"renderItems",value:function(){var t=[];return m.forEach(function(n){t.push(e.default.createElement(y,{key:n.id,cfg:n}))}),t}}]),n}(),y=function(r){function o(e){return a(this,o),l(this,f(o).call(this,e))}return s(o,e.default.Component),c(o,[{key:"render",value:function(){var t=this,n=this.props.cfg;return e.default.createElement("div",{className:"market-item"},e.default.createElement("h2",{className:"title"},n.title),e.default.createElement("div",{className:"desc"},e.default.createElement("div",{className:"pair"},e.default.createElement("p",null,"Price"),e.default.createElement("p",null,n.price," eth")),e.default.createElement("div",{className:"pair"},e.default.createElement("p",null,"Time"),e.default.createElement("p",null,n.time," min"))),e.default.createElement("div",{className:"purchase"},e.default.createElement("button",{className:"market-btn btn",onClick:function(){return t.purchase(n.time,n.price)}},"Purchase")))}},{key:"purchase",value:function(e,r){var o;t.default.loading(!0),projApp.crytoDoor.purchase(e,r).then(function(e){o=new n.default(e,projApp.metamask.web3),console.log("receve tx meta")}).then(function(){return o.waitTxAccept()}).then(function(){return projApp.crytoDoor.reload()}).then(function(){t.default.loading(!1)}).catch(function(e){t.default.loading(!1),t.default.notice(e.toString())})}}]),o}(),h=d;exports.default=h;
},{"react":"ccIB","../utils":"Cuk0","../../common/transaction":"o6QX"}],"/65+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("react")),t=n(require("../utils")),r=n(require("../timer"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(n){function o(e){var t;return i(this,o),(t=a(this,l(o).call(this,e))).state={timeLeft:projApp.crytoDoor.timeLeft},t.timer=new r.default(function(){t.setState({timeLeft:t.state.timeLeft-1})},function(){return t.state.timeLeft<=0}),t}return s(o,e.default.Component),f(o,[{key:"render",value:function(){var r=t.default.timeFormat(this.state.timeLeft);return e.default.createElement("div",{className:"owner-other"},e.default.createElement("img",{src:"/static/images/cryto-door/unknown.png"}),e.default.createElement("p",{className:"desc"},"Key is held by other people!"),e.default.createElement("p",{className:"left"},"Key will be free after:  ",r," minutes"))}},{key:"componentDidMount",value:function(){this.timer.start()}},{key:"componentWillUnmount",value:function(){this.timer.stop()}},{key:"receEvent",value:function(){this.setState({timeLeft:projApp.crytoDoor.timeLeft}),this.timer=this.startTimer()}}]),o}(),y=m;exports.default=y;
},{"react":"ccIB","../utils":"Cuk0","../timer":"4Vet"}],"KMhm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("react")),t=n(require("./utils"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(n){function o(e){return r(this,o),i(this,a(o).call(this,e))}return f(o,e.default.Component),c(o,[{key:"render",value:function(){return e.default.createElement("div",{className:"notice"},e.default.createElement("div",{className:"content"},e.default.createElement("div",{className:"title"},e.default.createElement("p",null,"Notice")),e.default.createElement("div",{className:"msg"},this.props.children),e.default.createElement("div",{className:"ok"},e.default.createElement("button",{className:"n-btn btn",onClick:this.onOKClick.bind(this)},"OK"))))}},{key:"onOKClick",value:function(){this.props.cb&&this.props.cb(),t.default.noticeAccept()}}]),o}(),b=p;exports.default=b;
},{"react":"ccIB","./utils":"Cuk0"}],"++2l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("react")),t=a(require("./owner/owner-me")),n=a(require("./owner/owner-none")),o=a(require("./owner/owner-other")),r=a(require("../common/mm-guide")),i=require("./macro"),c=a(require("./notice")),u=a(require("./utils"));function a(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(a){function l(e){var t;return s(this,l),(t=d(this,h(l).call(this,e))).state={showLoading:!1,noticeMsg:null,noticeCb:null},t}return y(l,e.default.Component),f(l,[{key:"render",value:function(){return e.default.createElement("div",{className:"interaction"},projApp.mmCheck.pass()?this.renderByState():e.default.createElement(r.default,null),this.renderNotice(),this.state.showLoading?this.renderLoading():null)}},{key:"renderByState",value:function(){return 0==projApp.crytoDoor.keyHolder?e.default.createElement(n.default,null):projApp.metamask.isEqualAccount(projApp.crytoDoor.keyHolder)?e.default.createElement(t.default,null):e.default.createElement(o.default,null)}},{key:"renderTool",value:function(){return e.default.createElement("div",{className:"interaction-tool"},e.default.createElement("button",{className:"tool-btn btn",onClick:this.sendMoney.bind(this)},"Send Money"))}},{key:"renderLoading",value:function(){return e.default.createElement("div",{className:"loading"},e.default.createElement("img",{src:"/static/images/cryto-door/loading.gif"}))}},{key:"renderNotice",value:function(){return this.state.noticeMsg?e.default.createElement(c.default,{cb:this.state.noticeCb||null},this.state.noticeMsg):null}},{key:"componentDidMount",value:function(){projApp.eventMgr.subscribe(i.MacroEvent.Loading,this,this.receLoading.bind(this)),projApp.eventMgr.subscribe(i.MacroEvent.ContractReload,this,this.receContractReload.bind(this)),projApp.eventMgr.subscribe(i.MacroEvent.Notice,this,this.receNotice.bind(this)),projApp.eventMgr.subscribe(i.MacroEvent.NoticeAccept,this,this.receNoticeAccept.bind(this))}},{key:"componentWillMount",value:function(){projApp.eventMgr.unsubscribe(i.MacroEvent.Loading,this),projApp.eventMgr.unsubscribe(i.MacroEvent.ContractReload,this),projApp.eventMgr.unsubscribe(i.MacroEvent.Notice,this),projApp.eventMgr.unsubscribe(i.MacroEvent.NoticeAccept,this)}},{key:"receContractReload",value:function(){this.forceUpdate()}},{key:"receLoading",value:function(e){this.setState({showLoading:e})}},{key:"receNotice",value:function(e){this.setState({noticeMsg:e.msg,noticeCb:e.cb?e.cb:null})}},{key:"receNoticeAccept",value:function(){this.setState({noticeMsg:null,noticeCb:null})}},{key:"sendMoney",value:function(){u.default.loading(!0),projApp.metamask.web3.eth.sendTransaction({from:projApp.metamask.account,to:projApp.crytoDoor.instance.address,value:projApp.metamask.web3.utils.toWei("0.01","ether")}).then(function(e){console.log("tx:",e)}).then(function(){projApp.crytoDoor.reload()}).then(function(){u.default.loading(!1)}).catch(function(e){console.log(e),u.default.loading(!1)})}}]),l}(),g=v;exports.default=g;
},{"react":"ccIB","./owner/owner-me":"Yttu","./owner/owner-none":"KUE4","./owner/owner-other":"/65+","../common/mm-guide":"IEbx","./macro":"c2RB","./notice":"KMhm","./utils":"Cuk0"}],"rLHL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("react")),t=require("./macro");function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(n){function o(t){var n;return r(this,o),(n=u(this,l(o).call(this,t))).canvasRef=e.default.createRef(),n.canvas=null,n.context=null,n.leftDoor=null,n.rightDoor=null,n.bg=null,n}return f(o,e.default.Component),c(o,[{key:"render",value:function(){return e.default.createElement("div",{className:"draw-container"},e.default.createElement("div",{className:"canvas-container"},e.default.createElement("canvas",{className:"canvas",ref:this.canvasRef,width:t.MacroMap.CanvasWidth,height:t.MacroMap.CanvasHeight})))}},{key:"componentDidMount",value:function(){this.canvas=this.canvasRef.current,this.context=this.canvas.getContext("2d"),projApp.controller.active(this.context)}},{key:"componentWillUnmount",value:function(){projApp.controller.end()}}]),o}(),y=p;exports.default=y;
},{"react":"ccIB","./macro":"c2RB"}],"/ery":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function n(){e(this,n),this.container={},this.imageForDrawing=[]}return t(n,[{key:"setDrawingList",value:function(e){this.imageForDrawing=e}},{key:"getImage",value:function(e){return this.container[e]}},{key:"loadImages",value:function(){var e=this;return new Promise(function(n,t){for(var r=0,a=e.imageForDrawing,i=function(t){var i=a[t],o=new Image;o.onload=function(){e.container[i]={obj:o},++r>=a.length&&n()},o.src="/static/images/".concat(i)},o=0;o<a.length;o++)i(o)})}}]),n}(),a=r;exports.default=a;
},{}],"2eGn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RightDoor=exports.LeftDoor=void 0;var t=require("../macro"),e=o(require("../../common/animation"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(o){function r(t){var e;return n(this,r),(e=u(this,a(r).call(this))).context=t,e.image=e.getImage(),e.speed=100,e.pos=e.getOriginPos(),e.isDirty=!0,e}return c(r,e.default),s(r,[{key:"draw",value:function(){if(this.isDirty){var e=this.getImage();this.context.drawImage(e.obj,this.pos.x,this.pos.y,t.MacroMap.DoorWidth,t.MacroMap.DoorHeight),this.isDirty=!1}}},{key:"getOriginPos",value:function(){return{x:0,y:0}}},{key:"getOpenPos",value:function(){return{x:0,y:0}}},{key:"getImage",value:function(){return projApp.imageMgr.getImage("cryto-door/door-l.png")}}]),r}(),g=function(e){function o(t){return n(this,o),u(this,a(o).call(this,t))}return c(o,l),s(o,[{key:"update",value:function(e){var o,r,n;switch(projApp.controller.doorState){case t.MacroDoorState.Opening:r=this.getOpenPos(),o=this.speed*e,this.pos.x-=o,this.pos.x<=r.x&&(this.pos.x=r.x,projApp.controller.stop()),this.setDirty();break;case t.MacroDoorState.Closing:n=this.getOriginPos(),o=this.speed*e,this.pos.x+=o,this.pos.x>=n.x&&(this.pos.x=n.x,projApp.controller.stop()),this.setDirty()}}},{key:"getOriginPos",value:function(){return{x:100,y:175}}},{key:"getOpenPos",value:function(){return{x:0,y:175}}},{key:"getImage",value:function(){return projApp.imageMgr.getImage("cryto-door/door-l.png")}}]),o}();exports.LeftDoor=g;var y=function(e){function o(t){return n(this,o),u(this,a(o).call(this,t))}return c(o,l),s(o,[{key:"update",value:function(e){var o,r,n;switch(projApp.controller.doorState){case t.MacroDoorState.Opening:r=this.getOpenPos(),o=this.speed*e,this.pos.x+=o,this.pos.x>=r.x&&(this.pos.x=r.x),this.setDirty();break;case t.MacroDoorState.Closing:n=this.getOriginPos(),o=this.speed*e,this.pos.x-=o,this.pos.x<=n.x&&(this.pos.x=n.x),this.setDirty()}}},{key:"getOriginPos",value:function(){return{x:185,y:175}}},{key:"getOpenPos",value:function(){return{x:285,y:175}}},{key:"getImage",value:function(){return projApp.imageMgr.getImage("cryto-door/door-r.png")}}]),o}();exports.RightDoor=y;
},{"../macro":"c2RB","../../common/animation":"Fld5"}],"9Pvb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../macro"),e=o(require("../../common/animation"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(o){function r(t){var e;return n(this,r),(e=c(this,f(r).call(this))).context=t,e.isDirty=!0,e}return s(r,e.default),u(r,[{key:"update",value:function(e){switch(projApp.controller.doorState){case t.MacroDoorState.Opening:case t.MacroDoorState.Closing:this.setDirty()}}},{key:"draw",value:function(){if(this.isDirty){var e=projApp.imageMgr.getImage("cryto-door/house.png");this.context.drawImage(e.obj,0,0,t.MacroMap.HouseWidth,t.MacroMap.HouseHeight),this.isDirty=!1}}}]),r}(),y=l;exports.default=y;
},{"../macro":"c2RB","../../common/animation":"Fld5"}],"Kyil":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../../common/animation")),e=require("../macro");function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(o){function r(t){var e;return n(this,r),(e=c(this,f(r).call(this))).context=t,e}return l(r,t.default),u(r,[{key:"update",value:function(t){switch(projApp.controller.doorState){case e.MacroDoorState.Opening:case e.MacroDoorState.Closing:this.setDirty()}}},{key:"draw",value:function(){this.isDirty&&(this.context.clearRect(0,0,e.MacroMap.CanvasWidth,e.MacroMap.CanvasHeight),this.isDirty=!1)}}]),r}(),y=p;exports.default=y;
},{"../../common/animation":"Fld5","../macro":"c2RB"}],"3SIE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../macro"),e=i(require("../../common/animation")),o=require("./door"),r=i(require("./house")),n=i(require("./drawing-bg"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,o){return e&&f(t.prototype,e),o&&f(t,o),t}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(i){function u(){var e;return a(this,u),(e=s(this,p(u).call(this))).doorState=t.MacroDoorState.Normal,e.stopFlag=!1,e}return h(u,e.default),c(u,[{key:"update",value:function(t){this.stopFlag&&(this.normal(),this.stopFlag=!1),this.bg.update(t),this.leftDoor.update(t),this.rightDoor.update(t),this.house.update(t)}},{key:"draw",value:function(){this.bg.draw(),this.leftDoor.draw(),this.rightDoor.draw(),this.house.draw()}},{key:"active",value:function(t){this.bg=new n.default(t),this.leftDoor=new o.LeftDoor(t),this.rightDoor=new o.RightDoor(t),this.house=new r.default(t),this.run()}},{key:"open",value:function(){this.doorState=t.MacroDoorState.Opening}},{key:"close",value:function(){this.doorState=t.MacroDoorState.Closing}},{key:"stop",value:function(){this.stopFlag=!0}},{key:"normal",value:function(){this.doorState=t.MacroDoorState.Normal}}]),u}(),b=d;exports.default=b;
},{"../macro":"c2RB","../../common/animation":"Fld5","./door":"2eGn","./house":"9Pvb","./drawing-bg":"Kyil"}],"azVB":[function(require,module,exports) {
module.exports={contractName:"CrytoDoor",abi:[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!1,inputs:[{name:"useTime",type:"uint256"}],name:"purchase",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"getKeyHolder",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isHoldTimeFinish",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getLeft",outputs:[{name:"",type:"int256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"doorControll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}],bytecode:"0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610504806100606000396000f30060806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063500aeba91461006f5780635577810c1461009e57806383df8802146100f55780638735a34214610124578063efef39a11461014f575b005b34801561007b57600080fd5b5061008461016f565b604051808215151515815260200191505060405180910390f35b3480156100aa57600080fd5b506100b36101d8565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561010157600080fd5b5061010a610219565b604051808215151515815260200191505060405180910390f35b34801561013057600080fd5b5061013961022b565b6040518082815260200191505060405180910390f35b61016d600480360381019080803590602001909291905050506102cd565b005b60003373ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156101d057600190506101d5565b600090505b90565b60006101e2610219565b156101f05760009050610216565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505b90565b60008061022461022b565b1315905090565b600080600073ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16148061028d57506000600354145b8061029a57506000600254145b156102a857600091506102c9565b426003546002540103905060008112156102c557600091506102c9565b8091505b5090565b60006102d7610219565b151561034b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f4b6579206973206e6f742066726565210000000000000000000000000000000081525060200191505060405180910390fd5b61035482610499565b9050806000141515156103cf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f5072696365206e6f74206d61746368210000000000000000000000000000000081525060200191505060405180910390fd5b8034141515610446576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f5072696365206e6f74206d61746368210000000000000000000000000000000081525060200191505060405180910390fd5b33600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555042600281905550816003819055505050565b600060788214156104b45767016345785d8a000090506104d3565b61012c8214156104ce576706f05b59d3b2000090506104d3565b600090505b9190505600a165627a7a72305820796cfdf972b61028bee14563fc28333119244fb5007a3451956f7fe0e5de36d80029",deployedBytecode:"0x60806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063500aeba91461006f5780635577810c1461009e57806383df8802146100f55780638735a34214610124578063efef39a11461014f575b005b34801561007b57600080fd5b5061008461016f565b604051808215151515815260200191505060405180910390f35b3480156100aa57600080fd5b506100b36101d8565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561010157600080fd5b5061010a610219565b604051808215151515815260200191505060405180910390f35b34801561013057600080fd5b5061013961022b565b6040518082815260200191505060405180910390f35b61016d600480360381019080803590602001909291905050506102cd565b005b60003373ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156101d057600190506101d5565b600090505b90565b60006101e2610219565b156101f05760009050610216565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505b90565b60008061022461022b565b1315905090565b600080600073ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16148061028d57506000600354145b8061029a57506000600254145b156102a857600091506102c9565b426003546002540103905060008112156102c557600091506102c9565b8091505b5090565b60006102d7610219565b151561034b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f4b6579206973206e6f742066726565210000000000000000000000000000000081525060200191505060405180910390fd5b61035482610499565b9050806000141515156103cf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f5072696365206e6f74206d61746368210000000000000000000000000000000081525060200191505060405180910390fd5b8034141515610446576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f5072696365206e6f74206d61746368210000000000000000000000000000000081525060200191505060405180910390fd5b33600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555042600281905550816003819055505050565b600060788214156104b45767016345785d8a000090506104d3565b61012c8214156104ce576706f05b59d3b2000090506104d3565b600090505b9190505600a165627a7a72305820796cfdf972b61028bee14563fc28333119244fb5007a3451956f7fe0e5de36d80029",sourceMap:"26:1501:1:-;;;168:55;8:9:-1;5:2;;;30:1;27;20:12;5:2;168:55:1;206:10;198:5;;:18;;;;;;;;;;;;;;;;;;26:1501;;;;;;",deployedSourceMap:"26:1501:1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1347:133;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1347:133:1;;;;;;;;;;;;;;;;;;;;;;;;;;;800:166;;8:9:-1;5:2;;;30:1;27;20:12;5:2;800:166:1;;;;;;;;;;;;;;;;;;;;;;;;;;;972:92;;8:9:-1;5:2;;;30:1;27;20:12;5:2;972:92:1;;;;;;;;;;;;;;;;;;;;;;;;;;;1070:271;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1070:271:1;;;;;;;;;;;;;;;;;;;;;;;437:357;;;;;;;;;;;;;;;;;;;;;;;;;;1347:133;1392:4;1423:10;1410:23;;:9;;;;;;;;;;;:23;;;1407:66;;;1442:4;1435:11;;;;1407:66;1468:5;1461:12;;1347:133;;:::o;800:166::-;845:7;866:18;:16;:18::i;:::-;863:96;;;914:1;899:17;;;;863:96;950:9;;;;;;;;;;;943:16;;800:166;;:::o;972:92::-;1021:4;1056:1;1043:9;:7;:9::i;:::-;:14;;1036:21;;972:92;:::o;1070:271::-;1110:3;1223:8;1148:1;1127:23;;:9;;;;;;;;;;;:23;;;:40;;;;1166:1;1154:8;;:13;1127:40;:62;;;;1188:1;1171:13;;:18;1127:62;1124:88;;;1211:1;1204:8;;;;1124:88;1265:15;1254:8;;1238:13;;:24;:42;1223:58;;1302:1;1295:4;:8;1291:22;;;1312:1;1305:8;;;;1291:22;1330:4;1323:11;;1070:271;;;:::o;437:357::-;550:10;501:18;:16;:18::i;:::-;493:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;563:17;572:7;563:8;:17::i;:::-;550:30;;603:5;598:1;:10;;590:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;660:5;647:9;:18;639:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;708:10;696:9;;:22;;;;;;;;;;;;;;;;;;744:15;728:13;:31;;;;780:7;769:8;:18;;;;437:357;;:::o;229:202::-;282:4;312:3;301:7;:14;298:126;;;324:18;317:25;;;;298:126;371:3;360:7;:14;357:67;;;383:18;376:25;;;;357:67;423:1;416:8;;229:202;;;;:::o",source:'pragma solidity ^0.4.23;\n\ncontract CrytoDoor{\n    address private owner;\n    address private keyHolder;\n    uint private holdStartTime;\n    uint private holdTime;\n\n    constructor() public{\n        owner = msg.sender;\n    }\n\n    function getPrice(uint useTime) private pure returns(uint){\n\n        if(useTime == 120) return 100000000000000000;\n        else if(useTime == 300) return 500000000000000000;\n        else return 0;\n    }\n\n    function purchase(uint useTime) public payable{\n        require(isHoldTimeFinish(), "Key is not free!");\n        uint price = getPrice(useTime);\n        require(0 != price, "Price not match!");\n        require(msg.value == price, "Price not match!");\n        keyHolder = msg.sender;\n        holdStartTime = block.timestamp;\n        holdTime = useTime;\n    }\n\n    function getKeyHolder() public view returns (address){\n        if(isHoldTimeFinish()) \n            return address(0);\n        else\n            return keyHolder;\n    }\n\n    function isHoldTimeFinish() public view returns (bool){\n        return getLeft() <= 0;\n    }\n\n    function getLeft() public view returns (int){\n        if(keyHolder == address(0) || holdTime == 0 || holdStartTime == 0) \n            return 0;\n\n        int left = int(holdStartTime + holdTime - block.timestamp);\n        if (left < 0) return 0;\n        return left;\n    }\n\n    function doorControll() public view returns (bool){\n        if(keyHolder == msg.sender) return true;\n        else return false;\n    }\n\n    function () external payable {\n\n    }  \n}',sourcePath:"/home/fisher/develop/proj/dapps/truffle/contracts/CrytoDoor.sol",ast:{absolutePath:"/home/fisher/develop/proj/dapps/truffle/contracts/CrytoDoor.sol",exportedSymbols:{CrytoDoor:[503]},id:504,nodeType:"SourceUnit",nodes:[{id:330,literals:["solidity","^","0.4",".23"],nodeType:"PragmaDirective",src:"0:24:1"},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:null,fullyImplemented:!0,id:503,linearizedBaseContracts:[503],name:"CrytoDoor",nodeType:"ContractDefinition",nodes:[{constant:!1,id:332,name:"owner",nodeType:"VariableDeclaration",scope:503,src:"50:21:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:331,name:"address",nodeType:"ElementaryTypeName",src:"50:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"private"},{constant:!1,id:334,name:"keyHolder",nodeType:"VariableDeclaration",scope:503,src:"77:25:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:333,name:"address",nodeType:"ElementaryTypeName",src:"77:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"private"},{constant:!1,id:336,name:"holdStartTime",nodeType:"VariableDeclaration",scope:503,src:"108:26:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:335,name:"uint",nodeType:"ElementaryTypeName",src:"108:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"private"},{constant:!1,id:338,name:"holdTime",nodeType:"VariableDeclaration",scope:503,src:"140:21:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:337,name:"uint",nodeType:"ElementaryTypeName",src:"140:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"private"},{body:{id:346,nodeType:"Block",src:"188:35:1",statements:[{expression:{argumentTypes:null,id:344,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:341,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:332,src:"198:5:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:342,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1175,src:"206:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:343,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"206:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"198:18:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:345,nodeType:"ExpressionStatement",src:"198:18:1"}]},documentation:null,id:347,implemented:!0,isConstructor:!0,isDeclaredConst:!1,modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:339,nodeType:"ParameterList",parameters:[],src:"179:2:1"},payable:!1,returnParameters:{id:340,nodeType:"ParameterList",parameters:[],src:"188:0:1"},scope:503,src:"168:55:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:368,nodeType:"Block",src:"287:144:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:356,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:354,name:"useTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:349,src:"301:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"313230",id:355,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"312:3:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_120_by_1",typeString:"int_const 120"},value:"120"},src:"301:14:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:361,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:359,name:"useTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:349,src:"360:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"333030",id:360,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"371:3:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_300_by_1",typeString:"int_const 300"},value:"300"},src:"360:14:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{expression:{argumentTypes:null,hexValue:"30",id:364,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"423:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:353,id:365,nodeType:"Return",src:"416:8:1"},id:366,nodeType:"IfStatement",src:"357:67:1",trueBody:{expression:{argumentTypes:null,hexValue:"353030303030303030303030303030303030",id:362,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"383:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_500000000000000000_by_1",typeString:"int_const 500000000000000000"},value:"500000000000000000"},functionReturnParameters:353,id:363,nodeType:"Return",src:"376:25:1"}},id:367,nodeType:"IfStatement",src:"298:126:1",trueBody:{expression:{argumentTypes:null,hexValue:"313030303030303030303030303030303030",id:357,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"324:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_100000000000000000_by_1",typeString:"int_const 100000000000000000"},value:"100000000000000000"},functionReturnParameters:353,id:358,nodeType:"Return",src:"317:25:1"}}]},documentation:null,id:369,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"getPrice",nodeType:"FunctionDefinition",parameters:{id:350,nodeType:"ParameterList",parameters:[{constant:!1,id:349,name:"useTime",nodeType:"VariableDeclaration",scope:369,src:"247:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:348,name:"uint",nodeType:"ElementaryTypeName",src:"247:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"246:14:1"},payable:!1,returnParameters:{id:353,nodeType:"ParameterList",parameters:[{constant:!1,id:352,name:"",nodeType:"VariableDeclaration",scope:369,src:"282:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:351,name:"uint",nodeType:"ElementaryTypeName",src:"282:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"281:6:1"},scope:503,src:"229:202:1",stateMutability:"pure",superFunction:null,visibility:"private"},{body:{id:415,nodeType:"Block",src:"483:311:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:375,name:"isHoldTimeFinish",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:442,src:"501:16:1",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_bool_$",typeString:"function () view returns (bool)"}},id:376,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"501:18:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4b6579206973206e6f74206672656521",id:377,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"521:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_8f99f125f3d2242af5ea279fe7d37e3ae528fdad854e6dd45bf484c6f45f379a",typeString:'literal_string "Key is not free!"'},value:"Key is not free!"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_8f99f125f3d2242af5ea279fe7d37e3ae528fdad854e6dd45bf484c6f45f379a",typeString:'literal_string "Key is not free!"'}],id:374,name:"require",nodeType:"Identifier",overloadedDeclarations:[1178,1179],referencedDeclaration:1179,src:"493:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:378,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"493:47:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:379,nodeType:"ExpressionStatement",src:"493:47:1"},{assignments:[381],declarations:[{constant:!1,id:381,name:"price",nodeType:"VariableDeclaration",scope:416,src:"550:10:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:380,name:"uint",nodeType:"ElementaryTypeName",src:"550:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:385,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:383,name:"useTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:371,src:"572:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:382,name:"getPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"563:8:1",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:384,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"563:17:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"550:30:1"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:389,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,hexValue:"30",id:387,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"598:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,id:388,name:"price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:381,src:"603:5:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"598:10:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"5072696365206e6f74206d6174636821",id:390,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"610:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_30499cf936653925c3d5901e792e3d1fe50ee0387d4773ce509aeec5b8b7f31f",typeString:'literal_string "Price not match!"'},value:"Price not match!"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_30499cf936653925c3d5901e792e3d1fe50ee0387d4773ce509aeec5b8b7f31f",typeString:'literal_string "Price not match!"'}],id:386,name:"require",nodeType:"Identifier",overloadedDeclarations:[1178,1179],referencedDeclaration:1179,src:"590:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:391,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"590:39:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:392,nodeType:"ExpressionStatement",src:"590:39:1"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:397,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:394,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1175,src:"647:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:395,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"value",nodeType:"MemberAccess",referencedDeclaration:null,src:"647:9:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:396,name:"price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:381,src:"660:5:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"647:18:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"5072696365206e6f74206d6174636821",id:398,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"667:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_30499cf936653925c3d5901e792e3d1fe50ee0387d4773ce509aeec5b8b7f31f",typeString:'literal_string "Price not match!"'},value:"Price not match!"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_30499cf936653925c3d5901e792e3d1fe50ee0387d4773ce509aeec5b8b7f31f",typeString:'literal_string "Price not match!"'}],id:393,name:"require",nodeType:"Identifier",overloadedDeclarations:[1178,1179],referencedDeclaration:1179,src:"639:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:399,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"639:47:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:400,nodeType:"ExpressionStatement",src:"639:47:1"},{expression:{argumentTypes:null,id:404,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:401,name:"keyHolder",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:334,src:"696:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:402,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1175,src:"708:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:403,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"708:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"696:22:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:405,nodeType:"ExpressionStatement",src:"696:22:1"},{expression:{argumentTypes:null,id:409,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:406,name:"holdStartTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:336,src:"728:13:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:407,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1165,src:"744:5:1",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:408,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"744:15:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"728:31:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:410,nodeType:"ExpressionStatement",src:"728:31:1"},{expression:{argumentTypes:null,id:413,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:411,name:"holdTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:338,src:"769:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:412,name:"useTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:371,src:"780:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"769:18:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:414,nodeType:"ExpressionStatement",src:"769:18:1"}]},documentation:null,id:416,implemented:!0,isConstructor:!1,isDeclaredConst:!1,modifiers:[],name:"purchase",nodeType:"FunctionDefinition",parameters:{id:372,nodeType:"ParameterList",parameters:[{constant:!1,id:371,name:"useTime",nodeType:"VariableDeclaration",scope:416,src:"455:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:370,name:"uint",nodeType:"ElementaryTypeName",src:"455:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"454:14:1"},payable:!0,returnParameters:{id:373,nodeType:"ParameterList",parameters:[],src:"483:0:1"},scope:503,src:"437:357:1",stateMutability:"payable",superFunction:null,visibility:"public"},{body:{id:430,nodeType:"Block",src:"853:113:1",statements:[{condition:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:421,name:"isHoldTimeFinish",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:442,src:"866:16:1",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_bool_$",typeString:"function () view returns (bool)"}},id:422,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"866:18:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{expression:{argumentTypes:null,id:427,name:"keyHolder",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:334,src:"950:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},functionReturnParameters:420,id:428,nodeType:"Return",src:"943:16:1"},id:429,nodeType:"IfStatement",src:"863:96:1",trueBody:{expression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"30",id:424,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"914:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:423,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"906:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:425,isConstant:!1,isLValue:!1,isPure:!0,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"906:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},functionReturnParameters:420,id:426,nodeType:"Return",src:"899:17:1"}}]},documentation:null,id:431,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"getKeyHolder",nodeType:"FunctionDefinition",parameters:{id:417,nodeType:"ParameterList",parameters:[],src:"821:2:1"},payable:!1,returnParameters:{id:420,nodeType:"ParameterList",parameters:[{constant:!1,id:419,name:"",nodeType:"VariableDeclaration",scope:431,src:"845:7:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:418,name:"address",nodeType:"ElementaryTypeName",src:"845:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"844:9:1"},scope:503,src:"800:166:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:441,nodeType:"Block",src:"1026:38:1",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:439,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:436,name:"getLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:483,src:"1043:7:1",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_int256_$",typeString:"function () view returns (int256)"}},id:437,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1043:9:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,hexValue:"30",id:438,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1056:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1043:14:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:435,id:440,nodeType:"Return",src:"1036:21:1"}]},documentation:null,id:442,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"isHoldTimeFinish",nodeType:"FunctionDefinition",parameters:{id:432,nodeType:"ParameterList",parameters:[],src:"997:2:1"},payable:!1,returnParameters:{id:435,nodeType:"ParameterList",parameters:[{constant:!1,id:434,name:"",nodeType:"VariableDeclaration",scope:442,src:"1021:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:433,name:"bool",nodeType:"ElementaryTypeName",src:"1021:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1020:6:1"},scope:503,src:"972:92:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:482,nodeType:"Block",src:"1114:227:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:459,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:455,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:451,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:447,name:"keyHolder",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:334,src:"1127:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"30",id:449,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1148:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:448,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1140:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:450,isConstant:!1,isLValue:!1,isPure:!0,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1140:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1127:23:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:454,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:452,name:"holdTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:338,src:"1154:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:453,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1166:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1154:13:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1127:40:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:458,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:456,name:"holdStartTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:336,src:"1171:13:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:457,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1188:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1171:18:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1127:62:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:462,nodeType:"IfStatement",src:"1124:88:1",trueBody:{expression:{argumentTypes:null,hexValue:"30",id:460,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1211:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:446,id:461,nodeType:"Return",src:"1204:8:1"}},{assignments:[464],declarations:[{constant:!1,id:464,name:"left",nodeType:"VariableDeclaration",scope:483,src:"1223:8:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:463,name:"int",nodeType:"ElementaryTypeName",src:"1223:3:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],id:473,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:471,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:468,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:466,name:"holdStartTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:336,src:"1238:13:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"+",rightExpression:{argumentTypes:null,id:467,name:"holdTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:338,src:"1254:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1238:24:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:469,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1165,src:"1265:5:1",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:470,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"1265:15:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1238:42:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:465,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1234:3:1",typeDescriptions:{typeIdentifier:"t_type$_t_int256_$",typeString:"type(int256)"},typeName:"int"},id:472,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1234:47:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"VariableDeclarationStatement",src:"1223:58:1"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:476,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:474,name:"left",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:464,src:"1295:4:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:475,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1302:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1295:8:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:479,nodeType:"IfStatement",src:"1291:22:1",trueBody:{expression:{argumentTypes:null,hexValue:"30",id:477,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1312:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:446,id:478,nodeType:"Return",src:"1305:8:1"}},{expression:{argumentTypes:null,id:480,name:"left",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:464,src:"1330:4:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},functionReturnParameters:446,id:481,nodeType:"Return",src:"1323:11:1"}]},documentation:null,id:483,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"getLeft",nodeType:"FunctionDefinition",parameters:{id:443,nodeType:"ParameterList",parameters:[],src:"1086:2:1"},payable:!1,returnParameters:{id:446,nodeType:"ParameterList",parameters:[{constant:!1,id:445,name:"",nodeType:"VariableDeclaration",scope:483,src:"1110:3:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:444,name:"int",nodeType:"ElementaryTypeName",src:"1110:3:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"1109:5:1"},scope:503,src:"1070:271:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:497,nodeType:"Block",src:"1397:83:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:491,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:488,name:"keyHolder",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:334,src:"1410:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:489,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1175,src:"1423:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:490,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1423:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1410:23:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{expression:{argumentTypes:null,hexValue:"66616c7365",id:494,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1468:5:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:487,id:495,nodeType:"Return",src:"1461:12:1"},id:496,nodeType:"IfStatement",src:"1407:66:1",trueBody:{expression:{argumentTypes:null,hexValue:"74727565",id:492,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1442:4:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:487,id:493,nodeType:"Return",src:"1435:11:1"}}]},documentation:null,id:498,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"doorControll",nodeType:"FunctionDefinition",parameters:{id:484,nodeType:"ParameterList",parameters:[],src:"1368:2:1"},payable:!1,returnParameters:{id:487,nodeType:"ParameterList",parameters:[{constant:!1,id:486,name:"",nodeType:"VariableDeclaration",scope:498,src:"1392:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:485,name:"bool",nodeType:"ElementaryTypeName",src:"1392:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1391:6:1"},scope:503,src:"1347:133:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:501,nodeType:"Block",src:"1515:8:1",statements:[]},documentation:null,id:502,implemented:!0,isConstructor:!1,isDeclaredConst:!1,modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:499,nodeType:"ParameterList",parameters:[],src:"1495:2:1"},payable:!0,returnParameters:{id:500,nodeType:"ParameterList",parameters:[],src:"1515:0:1"},scope:503,src:"1486:37:1",stateMutability:"payable",superFunction:null,visibility:"external"}],scope:504,src:"26:1501:1"}],src:"0:1527:1"},legacyAST:{absolutePath:"/home/fisher/develop/proj/dapps/truffle/contracts/CrytoDoor.sol",exportedSymbols:{CrytoDoor:[503]},id:504,nodeType:"SourceUnit",nodes:[{id:330,literals:["solidity","^","0.4",".23"],nodeType:"PragmaDirective",src:"0:24:1"},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:null,fullyImplemented:!0,id:503,linearizedBaseContracts:[503],name:"CrytoDoor",nodeType:"ContractDefinition",nodes:[{constant:!1,id:332,name:"owner",nodeType:"VariableDeclaration",scope:503,src:"50:21:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:331,name:"address",nodeType:"ElementaryTypeName",src:"50:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"private"},{constant:!1,id:334,name:"keyHolder",nodeType:"VariableDeclaration",scope:503,src:"77:25:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:333,name:"address",nodeType:"ElementaryTypeName",src:"77:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"private"},{constant:!1,id:336,name:"holdStartTime",nodeType:"VariableDeclaration",scope:503,src:"108:26:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:335,name:"uint",nodeType:"ElementaryTypeName",src:"108:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"private"},{constant:!1,id:338,name:"holdTime",nodeType:"VariableDeclaration",scope:503,src:"140:21:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:337,name:"uint",nodeType:"ElementaryTypeName",src:"140:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"private"},{body:{id:346,nodeType:"Block",src:"188:35:1",statements:[{expression:{argumentTypes:null,id:344,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:341,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:332,src:"198:5:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:342,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1175,src:"206:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:343,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"206:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"198:18:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:345,nodeType:"ExpressionStatement",src:"198:18:1"}]},documentation:null,id:347,implemented:!0,isConstructor:!0,isDeclaredConst:!1,modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:339,nodeType:"ParameterList",parameters:[],src:"179:2:1"},payable:!1,returnParameters:{id:340,nodeType:"ParameterList",parameters:[],src:"188:0:1"},scope:503,src:"168:55:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:368,nodeType:"Block",src:"287:144:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:356,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:354,name:"useTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:349,src:"301:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"313230",id:355,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"312:3:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_120_by_1",typeString:"int_const 120"},value:"120"},src:"301:14:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:361,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:359,name:"useTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:349,src:"360:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"333030",id:360,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"371:3:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_300_by_1",typeString:"int_const 300"},value:"300"},src:"360:14:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{expression:{argumentTypes:null,hexValue:"30",id:364,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"423:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:353,id:365,nodeType:"Return",src:"416:8:1"},id:366,nodeType:"IfStatement",src:"357:67:1",trueBody:{expression:{argumentTypes:null,hexValue:"353030303030303030303030303030303030",id:362,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"383:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_500000000000000000_by_1",typeString:"int_const 500000000000000000"},value:"500000000000000000"},functionReturnParameters:353,id:363,nodeType:"Return",src:"376:25:1"}},id:367,nodeType:"IfStatement",src:"298:126:1",trueBody:{expression:{argumentTypes:null,hexValue:"313030303030303030303030303030303030",id:357,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"324:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_100000000000000000_by_1",typeString:"int_const 100000000000000000"},value:"100000000000000000"},functionReturnParameters:353,id:358,nodeType:"Return",src:"317:25:1"}}]},documentation:null,id:369,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"getPrice",nodeType:"FunctionDefinition",parameters:{id:350,nodeType:"ParameterList",parameters:[{constant:!1,id:349,name:"useTime",nodeType:"VariableDeclaration",scope:369,src:"247:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:348,name:"uint",nodeType:"ElementaryTypeName",src:"247:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"246:14:1"},payable:!1,returnParameters:{id:353,nodeType:"ParameterList",parameters:[{constant:!1,id:352,name:"",nodeType:"VariableDeclaration",scope:369,src:"282:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:351,name:"uint",nodeType:"ElementaryTypeName",src:"282:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"281:6:1"},scope:503,src:"229:202:1",stateMutability:"pure",superFunction:null,visibility:"private"},{body:{id:415,nodeType:"Block",src:"483:311:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:375,name:"isHoldTimeFinish",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:442,src:"501:16:1",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_bool_$",typeString:"function () view returns (bool)"}},id:376,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"501:18:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4b6579206973206e6f74206672656521",id:377,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"521:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_8f99f125f3d2242af5ea279fe7d37e3ae528fdad854e6dd45bf484c6f45f379a",typeString:'literal_string "Key is not free!"'},value:"Key is not free!"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_8f99f125f3d2242af5ea279fe7d37e3ae528fdad854e6dd45bf484c6f45f379a",typeString:'literal_string "Key is not free!"'}],id:374,name:"require",nodeType:"Identifier",overloadedDeclarations:[1178,1179],referencedDeclaration:1179,src:"493:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:378,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"493:47:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:379,nodeType:"ExpressionStatement",src:"493:47:1"},{assignments:[381],declarations:[{constant:!1,id:381,name:"price",nodeType:"VariableDeclaration",scope:416,src:"550:10:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:380,name:"uint",nodeType:"ElementaryTypeName",src:"550:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:385,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:383,name:"useTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:371,src:"572:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:382,name:"getPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"563:8:1",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:384,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"563:17:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"550:30:1"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:389,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,hexValue:"30",id:387,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"598:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,id:388,name:"price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:381,src:"603:5:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"598:10:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"5072696365206e6f74206d6174636821",id:390,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"610:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_30499cf936653925c3d5901e792e3d1fe50ee0387d4773ce509aeec5b8b7f31f",typeString:'literal_string "Price not match!"'},value:"Price not match!"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_30499cf936653925c3d5901e792e3d1fe50ee0387d4773ce509aeec5b8b7f31f",typeString:'literal_string "Price not match!"'}],id:386,name:"require",nodeType:"Identifier",overloadedDeclarations:[1178,1179],referencedDeclaration:1179,src:"590:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:391,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"590:39:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:392,nodeType:"ExpressionStatement",src:"590:39:1"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:397,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:394,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1175,src:"647:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:395,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"value",nodeType:"MemberAccess",referencedDeclaration:null,src:"647:9:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:396,name:"price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:381,src:"660:5:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"647:18:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"5072696365206e6f74206d6174636821",id:398,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"667:18:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_30499cf936653925c3d5901e792e3d1fe50ee0387d4773ce509aeec5b8b7f31f",typeString:'literal_string "Price not match!"'},value:"Price not match!"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_30499cf936653925c3d5901e792e3d1fe50ee0387d4773ce509aeec5b8b7f31f",typeString:'literal_string "Price not match!"'}],id:393,name:"require",nodeType:"Identifier",overloadedDeclarations:[1178,1179],referencedDeclaration:1179,src:"639:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:399,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"639:47:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:400,nodeType:"ExpressionStatement",src:"639:47:1"},{expression:{argumentTypes:null,id:404,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:401,name:"keyHolder",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:334,src:"696:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:402,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1175,src:"708:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:403,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"708:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"696:22:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:405,nodeType:"ExpressionStatement",src:"696:22:1"},{expression:{argumentTypes:null,id:409,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:406,name:"holdStartTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:336,src:"728:13:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:407,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1165,src:"744:5:1",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:408,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"744:15:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"728:31:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:410,nodeType:"ExpressionStatement",src:"728:31:1"},{expression:{argumentTypes:null,id:413,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:411,name:"holdTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:338,src:"769:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:412,name:"useTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:371,src:"780:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"769:18:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:414,nodeType:"ExpressionStatement",src:"769:18:1"}]},documentation:null,id:416,implemented:!0,isConstructor:!1,isDeclaredConst:!1,modifiers:[],name:"purchase",nodeType:"FunctionDefinition",parameters:{id:372,nodeType:"ParameterList",parameters:[{constant:!1,id:371,name:"useTime",nodeType:"VariableDeclaration",scope:416,src:"455:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:370,name:"uint",nodeType:"ElementaryTypeName",src:"455:4:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"454:14:1"},payable:!0,returnParameters:{id:373,nodeType:"ParameterList",parameters:[],src:"483:0:1"},scope:503,src:"437:357:1",stateMutability:"payable",superFunction:null,visibility:"public"},{body:{id:430,nodeType:"Block",src:"853:113:1",statements:[{condition:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:421,name:"isHoldTimeFinish",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:442,src:"866:16:1",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_bool_$",typeString:"function () view returns (bool)"}},id:422,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"866:18:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{expression:{argumentTypes:null,id:427,name:"keyHolder",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:334,src:"950:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},functionReturnParameters:420,id:428,nodeType:"Return",src:"943:16:1"},id:429,nodeType:"IfStatement",src:"863:96:1",trueBody:{expression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"30",id:424,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"914:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:423,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"906:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:425,isConstant:!1,isLValue:!1,isPure:!0,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"906:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},functionReturnParameters:420,id:426,nodeType:"Return",src:"899:17:1"}}]},documentation:null,id:431,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"getKeyHolder",nodeType:"FunctionDefinition",parameters:{id:417,nodeType:"ParameterList",parameters:[],src:"821:2:1"},payable:!1,returnParameters:{id:420,nodeType:"ParameterList",parameters:[{constant:!1,id:419,name:"",nodeType:"VariableDeclaration",scope:431,src:"845:7:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:418,name:"address",nodeType:"ElementaryTypeName",src:"845:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"844:9:1"},scope:503,src:"800:166:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:441,nodeType:"Block",src:"1026:38:1",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:439,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:436,name:"getLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:483,src:"1043:7:1",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_int256_$",typeString:"function () view returns (int256)"}},id:437,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1043:9:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,hexValue:"30",id:438,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1056:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1043:14:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:435,id:440,nodeType:"Return",src:"1036:21:1"}]},documentation:null,id:442,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"isHoldTimeFinish",nodeType:"FunctionDefinition",parameters:{id:432,nodeType:"ParameterList",parameters:[],src:"997:2:1"},payable:!1,returnParameters:{id:435,nodeType:"ParameterList",parameters:[{constant:!1,id:434,name:"",nodeType:"VariableDeclaration",scope:442,src:"1021:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:433,name:"bool",nodeType:"ElementaryTypeName",src:"1021:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1020:6:1"},scope:503,src:"972:92:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:482,nodeType:"Block",src:"1114:227:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:459,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:455,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:451,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:447,name:"keyHolder",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:334,src:"1127:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"30",id:449,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1148:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:448,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1140:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:450,isConstant:!1,isLValue:!1,isPure:!0,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1140:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1127:23:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:454,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:452,name:"holdTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:338,src:"1154:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:453,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1166:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1154:13:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1127:40:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:458,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:456,name:"holdStartTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:336,src:"1171:13:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:457,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1188:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1171:18:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1127:62:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:462,nodeType:"IfStatement",src:"1124:88:1",trueBody:{expression:{argumentTypes:null,hexValue:"30",id:460,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1211:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:446,id:461,nodeType:"Return",src:"1204:8:1"}},{assignments:[464],declarations:[{constant:!1,id:464,name:"left",nodeType:"VariableDeclaration",scope:483,src:"1223:8:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:463,name:"int",nodeType:"ElementaryTypeName",src:"1223:3:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],id:473,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:471,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:468,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:466,name:"holdStartTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:336,src:"1238:13:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"+",rightExpression:{argumentTypes:null,id:467,name:"holdTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:338,src:"1254:8:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1238:24:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:469,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1165,src:"1265:5:1",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:470,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"1265:15:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1238:42:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:465,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1234:3:1",typeDescriptions:{typeIdentifier:"t_type$_t_int256_$",typeString:"type(int256)"},typeName:"int"},id:472,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1234:47:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"VariableDeclarationStatement",src:"1223:58:1"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:476,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:474,name:"left",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:464,src:"1295:4:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:475,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1302:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1295:8:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:479,nodeType:"IfStatement",src:"1291:22:1",trueBody:{expression:{argumentTypes:null,hexValue:"30",id:477,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1312:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:446,id:478,nodeType:"Return",src:"1305:8:1"}},{expression:{argumentTypes:null,id:480,name:"left",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:464,src:"1330:4:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},functionReturnParameters:446,id:481,nodeType:"Return",src:"1323:11:1"}]},documentation:null,id:483,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"getLeft",nodeType:"FunctionDefinition",parameters:{id:443,nodeType:"ParameterList",parameters:[],src:"1086:2:1"},payable:!1,returnParameters:{id:446,nodeType:"ParameterList",parameters:[{constant:!1,id:445,name:"",nodeType:"VariableDeclaration",scope:483,src:"1110:3:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:444,name:"int",nodeType:"ElementaryTypeName",src:"1110:3:1",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"1109:5:1"},scope:503,src:"1070:271:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:497,nodeType:"Block",src:"1397:83:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:491,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:488,name:"keyHolder",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:334,src:"1410:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:489,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1175,src:"1423:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:490,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1423:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1410:23:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{expression:{argumentTypes:null,hexValue:"66616c7365",id:494,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1468:5:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:487,id:495,nodeType:"Return",src:"1461:12:1"},id:496,nodeType:"IfStatement",src:"1407:66:1",trueBody:{expression:{argumentTypes:null,hexValue:"74727565",id:492,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1442:4:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:487,id:493,nodeType:"Return",src:"1435:11:1"}}]},documentation:null,id:498,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"doorControll",nodeType:"FunctionDefinition",parameters:{id:484,nodeType:"ParameterList",parameters:[],src:"1368:2:1"},payable:!1,returnParameters:{id:487,nodeType:"ParameterList",parameters:[{constant:!1,id:486,name:"",nodeType:"VariableDeclaration",scope:498,src:"1392:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:485,name:"bool",nodeType:"ElementaryTypeName",src:"1392:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1391:6:1"},scope:503,src:"1347:133:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:501,nodeType:"Block",src:"1515:8:1",statements:[]},documentation:null,id:502,implemented:!0,isConstructor:!1,isDeclaredConst:!1,modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:499,nodeType:"ParameterList",parameters:[],src:"1495:2:1"},payable:!0,returnParameters:{id:500,nodeType:"ParameterList",parameters:[],src:"1515:0:1"},scope:503,src:"1486:37:1",stateMutability:"payable",superFunction:null,visibility:"external"}],scope:504,src:"26:1501:1"}],src:"0:1527:1"},compiler:{name:"solc",version:"0.4.23+commit.124ca40d.Emscripten.clang"},networks:{3:{events:{},links:{},address:"0xD6a41BeB69f0a5E60dc85F61C0D9aC314CF2F3B4",transactionHash:"0x8736fda5017a54e10c52aeb9c49854c1a6aa692d187451fff8e4ac76baf69389"},999:{events:{},links:{},address:"0xc96c83018917f14875757c2859df468916acf365",transactionHash:"0xd4763c656914b779815967a1a3da76df912e8da6ca8fd9432ce0850c0a08fa10"}},schemaVersion:"3.0.2",updatedAt:"2019-03-10T14:10:57.152Z",devdoc:{methods:{}},userdoc:{methods:{}}};
},{}],"Hzqh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("truffle-contract")),t=r(require("../../../../truffle/build/contracts/CrytoDoor.json")),n=require("../macro");function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var u=function(){function r(){o(this,r),this.instance=null,this.keyHolder=null,this.timeLeft=0,this.leftTimer=null}return a(r,[{key:"init",value:function(n){var r=this;return new Promise(function(o,i){var a=(0,e.default)(t.default);a.setProvider(n),a.deployed().then(function(e){r.instance=e}).then(function(){return r.reload()}).then(o).catch(function(e){return console.log(e)})})}},{key:"reload",value:function(){var e=this;return new Promise(function(t,r){e.instance.getKeyHolder().then(function(t){e.keyHolder=t}).then(function(){return e.instance.getLeft()}).then(function(t){e.timeLeft=t.toNumber(),e.timeLeft>0&&e.startLeftTimer()}).then(function(){projApp.eventMgr.dispatch(n.MacroEvent.ContractReload)}).then(t).catch(function(e){return console.log(e)})})}},{key:"startLeftTimer",value:function(){var e=this;this.leftTimer||clearInterval(this.leftTimer),this.leftTimer=setInterval(function(){e.timeLeft<=0?clearInterval(e.leftTimer):e.timeLeft-=1},1e3)}},{key:"getKeyHolder",value:function(){return this.instance.getKeyHolder({from:projApp.metamask.account})}},{key:"purchase",value:function(e,t){var n=60*e,r=projApp.metamask.web3.utils.toWei(t.toString(),"ether");return this.instance.purchase(n,{from:projApp.metamask.account,value:r})}},{key:"isHoldTimeFinish",value:function(){return this.instance.isHoldTimeFinish({from:projApp.metamask.account})}},{key:"getLeft",value:function(){return this.instance.getLeft({from:projApp.metamask.account})}},{key:"doorControll",value:function(){return this.instance.doorControll({from:projApp.metamask.account})}}]),r}(),c=u;exports.default=c;
},{"truffle-contract":"8FEc","../../../../truffle/build/contracts/CrytoDoor.json":"azVB","../macro":"c2RB"}],"p0ud":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("../lib/image-mgr")),t=c(require("../lib/event-mgr")),n=c(require("./drawing/drawing-controller")),o=c(require("./contract/cryto-door")),r=c(require("./utils")),u=c(require("../common/proj-app")),i=c(require("../common/metamask"));function c(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function m(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(c){function a(){var u;f(this,a),(u=m(this,y(a).call(this))).imageMgr=new e.default;var c=u.getDownloadImageList();return u.imageMgr.setDrawingList(c),u.eventMgr=new t.default,u.controller=new n.default,u.metamask=new i.default,u.metamask.setAccountChangeCb(function(){r.default.notice("Account change, reload page!",function(){window.location.reload()})}),u.crytoDoor=new o.default,u.mmCheck=null,u}return d(a,u.default),s(a,[{key:"getDownloadImageList",value:function(){return["cryto-door/house.png","cryto-door/door-l.png","cryto-door/door-r.png"]}},{key:"run",value:function(e){var t=this;this.imageMgr.loadImages().then(function(){return t.metamask.init()}).then(function(e){t.mmCheck=e}).then(function(){if(t.mmCheck.pass())return t.metamask.checkIfAccountChange(),t.crytoDoor.init(t.metamask.web3.currentProvider)}).then(function(){e&&e()})}}]),a}(),h=b;exports.default=h;
},{"../lib/image-mgr":"/ery","../lib/event-mgr":"KdkT","./drawing/drawing-controller":"3SIE","./contract/cryto-door":"Hzqh","./utils":"Cuk0","../common/proj-app":"ISiE","../common/metamask":"tKqZ"}],"9yp6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("react")),t=o(require("./interaction")),n=o(require("./drawing-container")),r=o(require("./cd-app"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(o){function u(e){var t;return i(this,u),(t=f(this,p(u).call(this,e))).state={active:!1},t}return s(u,e.default.Component),a(u,[{key:"componentDidMount",value:function(){var e=this;window.app.resetProjApp(r.default),window.projApp.run(function(){e.setState({active:!0})})}},{key:"render",value:function(){return this.state.active?e.default.createElement("div",{className:"cryto-door"},e.default.createElement(n.default,null),e.default.createElement(t.default,null)):null}}]),u}(),b=d;exports.default=b;
},{"react":"ccIB","./interaction":"++2l","./drawing-container":"rLHL","./cd-app":"p0ud"}]},{},[], null)
//# sourceMappingURL=/static/cd-entry.4004ea00.js.map